# GitHex

GitHex is a Next.js application that surfaces repository insights generated by a backing Ractor session. It renders analysis results, tracks session status, and exposes lightweight API routes that proxy session responses from your Ractor deployment.

## Prerequisites

- Node.js 20+ (for local development)
- Docker (for containerized builds)
- A reachable Ractor API with credentials that can read session outputs

## Required Environment

Create a `.env` file in the project root (or export the variables in your shell) with:

| Variable | Description |
| --- | --- |
| `RACTOR_HOST_URL` | Base URL for the Ractor API (e.g., `https://ractor.example.com`). |
| `RACTOR_ADMIN_TOKEN` | Operator token that authorizes session lookups. |

Both values must be present before starting the app. They are validated on every request and GitHex will fail fast if either is missing.

## Local Development

```bash
npm install
npm run dev
```

Visit `http://localhost:3000` and supply a repository path (e.g., `owner/name`) to trigger analysis.

## Docker Usage

- Build the image: `./scripts/build.sh` (pass `--no-cache` or `--tag` as needed).
- Start the container: `./scripts/start.sh` (reads environment from `.env`).
- Run detached: `./scripts/start.sh --detach`.
- Follow logs: `docker logs githex -f`.

The container listens on port `8001` by default; override the host port with `--port` when running the start script.

## Data Storage

The Docker image exposes `/app/storage` (env var `GITHEX_DATA_PATH`). Mount a volume there if you want persisted repository metadata between restarts.
